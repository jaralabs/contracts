# Contracts Management System# Contracts Management System# Contracts



A modern contract management system built with Angular 18+, Module Federation, Playwright E2E testing, and AWS Cognito authentication.A modern contract management system built with Angular 18+, Module Federation, and AWS Cognito authentication.<a alt="Nx logo" href="https://nx.dev" target="_blank" rel="noreferrer"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="45"></a>



## 🏗️ Architecture## 🏗️ Architecture✨ **This workspace has been generated by [Nx, Smart Monorepos · Fast CI.](https://nx.dev)** ✨



This project uses **Nx Workspace** with **Module Federation** architecture:This project uses **Nx Workspace** with **Module Federation** architecture:## Integrate with editors



- **Host App**: Main application shell with authentication and routing- **Host App**: Main application shell with authentication and routingEnhance your Nx experience by installing [Nx Console](https://nx.dev/nx-console) for your favorite editor. Nx Console

- **ERP Microfrontend**: Contract management module loaded dynamically

- **Design System Library**: Shared UI components (Table, Input, Card, Layout, etc.)- **ERP Microfrontend**: Contract management module loaded dynamicallyprovides an interactive UI to view your projects, run tasks, generate code, and more! Available for VSCode, IntelliJ and

- **Shared Library**: Services, models, and utilities

- **Design System Library**: Shared UI components (Table, Input, Card, Layout, etc.)comes with a LSP for Vim users.

## 🎨 Tech Stack

## 🎨 Tech Stack## Nx plugins and code generators

- **Angular 18+**: Standalone components with signals and zoneless change detection

- **Tailwind CSS**: Utility-first CSS framework with custom brand colors- **Angular 18+**: Standalone components with new control flow syntaxAdd Nx plugins to leverage their code generators and automated, inferred tasks.

- **AWS Amplify**: Authentication with Cognito

- **NgRx**: State management for user and UI state- **Tailwind CSS**: Utility-first CSS framework with custom Genius Soft brand colors

- **Module Federation**: Micro frontend architecture

- **Lucide Icons**: Modern icon library- **AWS Amplify**: Authentication with Cognito```

- **JSON Server**: Mock API for development

- **Playwright**: E2E testing framework- **NgRx**: State management for user and UI state# Add plugin

- **Jest**: Unit testing framework

- **Module Federation**: Micro frontend architecturenpx nx add @nx/react

## 🚀 Getting Started

- **Lucide Icons**: Modern icon library

### Prerequisites

- **JSON Server**: Mock API for development# Use code generator

- Node.js >= 18.x

- npm >= 9.xnpx nx generate @nx/react:app demo



### Installation## 🚀 Getting Started



1. Clone the repository:# Run development server



```bash### Prerequisitesnpx nx serve demo

git clone https://github.com/jaralabs/contracts.git

cd contracts- Node.js >= 18.x# View project details

```

- npm >= 9.xnpx nx show project demo --web

2. Install dependencies:

````

```bash

npm install### Installation

```

Run `npx nx list` to get a list of available plugins and whether they have generators. Then run `npx nx list <plugin-name>` to see what generators are available.

3. Configure environment variables:

1. Clone the repository:

```bash

cp .env.example .env```bashLearn more about [code generators](https://nx.dev/features/generate-code) and [inferred tasks](https://nx.dev/concepts/inferred-tasks) in the docs.

```

git clone https://github.com/jaralabs/contracts.git

Edit `.env` with your AWS Cognito credentials:

cd contracts## Running tasks

```env

AWS_REGION=us-east-1````

AWS_USER_POOL_ID=your-user-pool-id

AWS_USER_POOL_CLIENT_ID=your-client-idTo execute tasks with Nx use the following syntax:

AWS_IDENTITY_POOL_ID=your-identity-pool-id

```2. Install dependencies:



4. Configure test environment:`bash`



```bashnpm installnpx nx <target> <project> <...options>

cp .env.test.example .env.test

```````



Edit `.env.test` with test credentials:



```env3. Configure environment variables:You can also run multiple targets:

TEST_USER_EMAIL=test@example.com

TEST_USER_PASSWORD=YourTestPassword123!```bash

```

cp .env.example .env```

5. Start the development servers:

```npx nx run-many -t <target1> <target2>

```bash

# Start JSON Server (mock API)```

npm run server

Edit `.env` with your AWS Cognito credentials:

# In another terminal, start Host app

npx nx serve host```env..or add `-p` to filter specific projects



# In another terminal, start ERP microfrontendAWS_REGION=us-east-1

npx nx serve erp

```AWS_USER_POOL_ID=your-user-pool-id```



6. Open your browser:AWS_USER_POOL_CLIENT_ID=your-client-idnpx nx run-many -t <target1> <target2> -p <proj1> <proj2>



- Host: http://localhost:4200AWS_IDENTITY_POOL_ID=your-identity-pool-id```

- ERP: http://localhost:4201

```

## 🎨 Design System

Targets can be defined in the `package.json` or `projects.json`. Learn more [in the docs](https://nx.dev/features/run-tasks).

### Brand Colors

4. Start the development servers:

- **Primary Orange**: `#F97316` (Tailwind orange-500)

- **Secondary Gray**: Gray scale for text and backgrounds```bash## Set up CI!



### Components# Start JSON Server (mock API)



- **HeaderComponent**: Application header with logo and user badgenpm run serverNx comes with local caching already built-in (check your `nx.json`). On CI you might want to go a step further.

- **LayoutComponent**: Main layout with collapsible sidebar and mobile menu

- **TableComponent**: Dynamic table with sorting, pagination, and row selection

- **InputComponent**: Form input with ControlValueAccessor

- **CardComponent**: Reusable card component with variants# In another terminal, start Host app- [Set up remote caching](https://nx.dev/features/share-your-cache)

- **FiltersComponent**: Dynamic filters panel

- **TabsComponent**: Tab navigation componentnpx nx serve host- [Set up task distribution across multiple machines](https://nx.dev/nx-cloud/features/distribute-task-execution)

- **LabelComponent**: Form label component

- [Learn more how to setup CI](https://nx.dev/recipes/ci)

## 📁 Project Structure

# In another terminal, start ERP microfrontend

```

contracts/npx nx serve erp## Explore the project graph

├── apps/

│   ├── host/                     # Main application shell```

│   │   ├── src/

│   │   │   ├── app/Run `npx nx graph` to show the graph of the workspace.

│   │   │   │   ├── guards/       # Auth guards

│   │   │   │   ├── services/     # Auth service5. Open your browser:It will show tasks that you can run with Nx.

│   │   │   │   ├── store/        # NgRx store

│   │   │   │   └── *.component.ts- Host: http://localhost:4200

│   │   │   ├── aws-config.ts

│   │   │   └── bootstrap.ts- ERP: http://localhost:4200/erp- [Learn more about Exploring the Project Graph](https://nx.dev/core-features/explore-graph)

│   │   └── module-federation.config.js

│   └── erp/                      # Contract management microfrontend

│       ├── src/

│       │   └── app/## 🎨 Design System## Connect with us!

│       │       ├── signature-page.component.*

│       │       ├── contract-detail.component.*

│       │       └── app.routes.ts

│       └── module-federation.config.js### Brand Colors- [Join the community](https://nx.dev/community)

├── libs/

│   ├── design-system/            # Shared UI library- [Subscribe to the Nx Youtube Channel](https://www.youtube.com/@nxdevtools)

│   │   └── src/

│   │       ├── components/- **Primary Orange**: `#F57C00` (Genius Soft corporate color)- [Follow us on Twitter](https://twitter.com/nxdevtools)

│   │       └── lib/

│   └── shared/                   # Shared services & models- **Primary Scale**: 50-900 (based on orange)

│       └── src/- **Secondary Scale**: Gray colors for text and backgrounds

│           ├── lib/

│           │   ├── services/### Components

│           │   └── config/

│           └── index.ts- `HeaderComponent`: Application header with logo and user badge

├── e2e/                          # Playwright E2E tests- `LayoutComponent`: Main layout with collapsible sidebar

│   ├── auth.spec.ts- `TableComponent`: Dynamic table with sorting, pagination, and selection

│   ├── contract-detail.spec.ts- `InputComponent`: Form input with ControlValueAccessor

│   ├── contracts-list.spec.ts- `CardComponent`: Reusable card component

│   ├── pwa.spec.ts- `LabelComponent`: Form label component

│   └── helpers/

│       └── auth.helper.ts## 📁 Project Structure

├── db.json                       # Mock API data

├── playwright.config.ts```

└── tailwind.config.jscontracts/

```├── apps/

│   ├── host/              # Main application

## 🔐 Authentication│   │   ├── src/

│   │   │   ├── app/

The application uses **AWS Cognito** for authentication:│   │   │   │   ├── guards/      # Auth guards

│   │   │   │   ├── services/    # Auth service

- Email/password login│   │   │   │   ├── store/       # NgRx store

- Secure password validation│   │   │   │   └── *.component.ts

- Password change flow│   │   │   ├── environments/    # Environment configs

- Auth guards protecting routes│   │   │   └── aws-config.ts

- Centralized auth service│   │   └── module-federation.config.js

- NgRx store for user state│   └── erp/               # Contract management microfrontend

│       ├── src/

## 🧪 Testing│       │   └── app/

│       │       ├── home.component.ts

### E2E Tests with Playwright│       │       └── signature-page.component.*

│       └── module-federation.config.js

```bash├── libs/

# Run all E2E tests│   └── design-system/     # Shared UI library

npx playwright test│       └── src/

│           └── components/

# Run specific test file├── db.json               # Mock API data

npx playwright test e2e/auth.spec.ts└── tailwind.config.js    # Tailwind configuration

```

# Run tests in headed mode

npx playwright test --headed## 🔐 Authentication



# Run tests in UI modeThe application uses **AWS Cognito** for authentication:

npx playwright test --ui

- Email/password login

# View test report- Password change flow

npx playwright show-report- Auth guards protecting routes

```- Centralized auth service

- NgRx store for user state

**Test Coverage:**

- ✅ Authentication flow (4 tests)### Test Users

- ✅ PWA features (6 tests)

- ✅ Contract detail page (7 tests)Configure test users in your AWS Cognito User Pool.

- ✅ Contracts list (8 tests)

## 🧪 Testing

Total: **25 E2E tests**

```bash

### Unit Tests with Jest# Run all tests

npx nx run-many -t test

```bash

# Run all unit tests# Run tests for specific project

npx nx run-many -t testnpx nx test host

npx nx test erp

# Run tests for specific projectnpx nx test design-system

npx nx test host

npx nx test erp# Run tests with coverage

npx nx test design-systemnpx nx test host --coverage

npx nx test shared```



# Run tests with coverage## 🏗️ Building

npx nx test shared --coverage

``````bash

# Build for production

## 🏗️ Buildingnpx nx run-many -t build



```bash# Build specific app

# Build for productionnpx nx build host --configuration=production

npx nx run-many -t build --configuration=productionnpx nx build erp --configuration=production

```

# Build specific app

npx nx build host --configuration=production## 📝 Development Guidelines

npx nx build erp --configuration=production

```### Commit Messages



## 🚢 DeploymentFollow [Conventional Commits](https://www.conventionalcommits.org/):



The application can be deployed to any static hosting service:- `feat:` New features

- `fix:` Bug fixes

1. Build the applications- `refactor:` Code refactoring

2. Upload `dist/apps/host` to your hosting service- `docs:` Documentation changes

3. Configure environment variables- `style:` Code style changes

4. Set up AWS Cognito- `test:` Test additions or changes

- `chore:` Build process or auxiliary tool changes

## 📝 Development Guidelines

Example:

### Code Style```bash

git commit -m "feat: add contract filtering functionality"

- Use Angular standalone components```

- Use signals for reactive state

- Use new control flow syntax (`@if`, `@for`, `@switch`)### Code Style

- Use Tailwind utility classes

- Follow single responsibility principle- Use Angular standalone components

- Write meaningful component and variable names- Use new control flow syntax (`@if`, `@for`)

- Keep components focused and small- Use Tailwind utility classes instead of SCSS

- Follow single responsibility principle

### Commit Messages- Write meaningful component and variable names



Follow [Conventional Commits](https://www.conventionalcommits.org/):## 🎯 Available Scripts



```bash- `npx nx serve host` - Start host application

feat: add contract filtering functionality- `npx nx serve erp` - Start ERP microfrontend

fix: resolve routing issue in ERP module- `npm run server` - Start JSON Server (port 3000)

refactor: simplify contracts service- `npx nx build host` - Build host application

docs: update README with testing instructions- `npx nx test host` - Run tests

test: add E2E tests for contract detail page- `npx nx lint host` - Run ESLint

chore: update dependencies

```## 🤝 Contributing



## 🎯 Available Scripts1. Create a feature branch: `git checkout -b feat/my-feature`

2. Make your changes

### Development3. Run tests: `npx nx test`

4. Commit using conventional commits

- `npx nx serve host` - Start host application (port 4200)5. Push and create a Pull Request

- `npx nx serve erp` - Start ERP microfrontend (port 4201)

- `npm run server` - Start JSON Server (port 3000)## 📄 License



### TestingMIT



- `npx playwright test` - Run E2E tests## 👥 Authors

- `npx nx test <project>` - Run unit tests

- Andrew Jaramillo (@jaralabs)

### Build

## 🐛 Known Issues

- `npx nx build host` - Build host application

- `npx nx build erp` - Build ERP microfrontend- None at the moment



### Lint & Format## 🗺️ Roadmap



- `npx nx lint <project>` - Run ESLint- [ ] Add unit tests for all components

- `npx nx format:write` - Format code with Prettier- [ ] Add E2E tests with Cypress

- [ ] Implement error boundary

## 🔧 Configuration- [ ] Add toast notification system

- [ ] Add skeleton loaders

### Module Federation- [ ] Implement contract CRUD operations

- [ ] Add contract PDF generation

The project uses Module Federation to load the ERP module dynamically:- [ ] Add multi-language support (i18n)

- [ ] Add dark mode support

```typescript

// host/module-federation.config.js## 📚 Learn More About Nx

remotes: ['erp']

- [Nx Documentation](https://nx.dev)

// erp/module-federation.config.js- [Nx Console](https://nx.dev/nx-console) - VSCode/IntelliJ plugin

exposes: {- [Explore the project graph](https://nx.dev/core-features/explore-graph): `npx nx graph`

  './Routes': './src/app/app.routes.ts'````

}
```

### Routing

The ERP module routes are loaded dynamically:

```typescript
{
  path: 'erp',
  loadChildren: () => loadRemoteModule('erp', './Routes')
}
```

## 🌐 API Endpoints

Mock API runs on `http://localhost:3000`:

- `GET /contratos` - Get all contracts
- `GET /contratos/:id` - Get contract by ID
- `POST /contratos` - Create contract
- `PUT /contratos/:id` - Update contract
- `PATCH /contratos/:id` - Partial update
- `DELETE /contratos/:id` - Delete contract

## 🤝 Contributing

1. Create a feature branch: `git checkout -b feat/my-feature`
2. Make your changes
3. Run tests: `npx playwright test && npx nx run-many -t test`
4. Commit using conventional commits
5. Push and create a Pull Request

## 📄 License

MIT

## 👥 Author

**Andrew Jaramillo** ([@jaralabs](https://github.com/jaralabs))

## 🙏 Acknowledgments

- Built with [Nx](https://nx.dev)
- Icons by [Lucide](https://lucide.dev)
- Styled with [Tailwind CSS](https://tailwindcss.com)

## 📚 Learn More

- [Nx Documentation](https://nx.dev)
- [Angular Documentation](https://angular.dev)
- [Module Federation](https://module-federation.github.io)
- [Playwright Documentation](https://playwright.dev)
- [AWS Amplify Documentation](https://docs.amplify.aws)
